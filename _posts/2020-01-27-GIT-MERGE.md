---
layout: post
title: GIT merge vs rebase
published: true
image: /img/git-merge-rebase/Git.png
tags: [git,programming]
subtitle: just squash it!
---
GIT is the most powerful GI(F)T given by [Linus Torvalds](https://en.wikipedia.org/wiki/Linus_Torvalds) to dev community. The most common commands that I use on a daily basis are clone, fetch, push, commit, **stash**. In this post I want to give my thoughts on when to use **merge** vs **rebase**, the key differences between them, pros and cons of both.

### What is merge and rebase

To integrate changes from another branch we use either `git merge` or `git rebase`. While both these commands do the job, it is good to know when to use either of them for a better commit history!

Be informed that all the below examples are assumed to **not** have any merge-conflicts(no two separate branches have edits to the same line in a file)

#### Situation

Alright! We are in a situation now! Let's say there is a master branch and you checked out a feature branch(`b1`) from the master branch(`master`). Since you're a fast coder, you've already made 2 new commits(`C1`&`C2`) to your `b1` branch! Good going!
Now your colleague who works on the same team is working on another branch `b2`, wrote code faster than you, made 2 commits(`C3`&`C4`) and is ready push changes to master before you!

Let's visualize the above situation below!
![1](/img/git-merge-rebase/git1.PNG){: .center-block :}

Okay! So your colleague is done with his feature after those 2 commits and pushed the code to master branch. The master branch is now ahead of your branch(`b1`) by 2 commits! **Forked history!!!**
![2](/img/git-merge-rebase/git2.PNG){: .center-block :}

Now you found that you have to make changes in a file that's updated by your colleague when he merged his branch `b2` to `master`
#### What do you do???
Yes, you would do either `merge` or `rebase`. But which one and why?

### `git merge master`
![3](/img/git-merge-rebase/git3.PNG){: .center-block :}

### `git rebase master`
![4](/img/git-merge-rebase/git4.PNG){: .center-block :}

As you can see a new commit has been created with `git merge`, while there was no new commit using `git rebase`

### When to use what?

Personally I feel `merge` should be used when a lot of developers are working in your team and there is individual ownership of features! If you are the owner of the feature you are working on(branch `b1` from the above example)and your colleague is the owner of branch `b2`, **do you care** about all the **interim commits**(`C3`&`C4`) performed by your colleague to branch `b2`?
Personally, I don't care about them, I'd rather focus on my commits on my feature branch!

#### What if there is a situation where 2 people are working on the same feature? 

`rebase` would be a better option here since the feature is owned by 2 people together and you want to look at the commit history as a team!

### Conclusion

Now, to the question of whether merging or rebasing is better: hopefully you’ll see that it’s not that simple. Git is a powerful tool, and allows you to do many things to and with your history, but every team and every project is different. It’s up to you to decide which one is best for your particular situation.

In general the way to get the best of both worlds is to rebase local changes you’ve made but haven’t shared yet before you push them in order to clean up your story, but never rebase anything you’ve pushed somewhere.
